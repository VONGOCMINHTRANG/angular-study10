<div class="change-password-wrapper">
  <div class="change-password-container">
    <h1>Cập nhật mật khẩu</h1>
    <div class="content">
      <form class="update-form" [formGroup]="updateForm" (ngSubmit)="update()">
        <mat-form-field>
          <mat-label>Mật khẩu</mat-label>
          <input
            matInput
            [type]="hide ? 'password' : 'text'"
            placeholder="Nhập mật khẩu"
            formControlName="password"
            name="password"
            autocomplete="password"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="hide = !hide"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide"
          >
            <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
          </button>

          <mat-error
            *ngIf="updateForm.controls['password'].hasError('required')"
          >
            Vui lòng nhập mật khẩu
          </mat-error>
          <mat-error
            *ngIf="updateForm.controls['password'].hasError('pattern')"
          >
            Mật khẩu ít nhất 8 kí tự, bao gồm 1 chữ hoa và 1 ký tự đặc biệt
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Mật khẩu mới</mat-label>
          <input
            matInput
            [type]="hide ? 'password' : 'text'"
            placeholder="Nhập mật khẩu mới"
            formControlName="newPassword"
            name="new-password"
            autocomplete="new-password"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="hide = !hide"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide"
          >
            <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
          </button>

          <mat-error
            *ngIf="updateForm.controls['password'].hasError('required')"
          >
            Vui lòng nhập mật khẩu mới
          </mat-error>
          <mat-error
            *ngIf="updateForm.controls['password'].hasError('pattern')"
          >
            Mật khẩu mới ít nhất 8 kí tự, bao gồm 1 chữ hoa và 1 ký tự đặc biệt
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Nhập lại mật khẩu mới</mat-label>
          <input
            matInput
            [type]="hide ? 'password' : 'text'"
            placeholder="Nhập lại mật khẩu mới"
            formControlName="retypePassword"
            name="retype-password"
            autocomplete="retype-password"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="hide = !hide"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide"
          >
            <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
          </button>

          <mat-error
            *ngIf="updateForm.controls['password'].hasError('required')"
          >
            Vui lòng nhập lại mật khẩu mới
          </mat-error>
          <mat-error
            *ngIf="updateForm.controls['password'].hasError('pattern')"
          >
            Mật khẩu mới ít nhất 8 kí tự, bao gồm 1 chữ hoa và 1 ký tự đặc biệt
          </mat-error>
        </mat-form-field>

        <button
          mat-raised-button
          type="submit"
          (click)="update()"
          color="primary"
          class="btn-update"
        >
          Lưu
        </button>
      </form>
    </div>
  </div>
</div>
